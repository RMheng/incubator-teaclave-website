<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dependencies and Rust Packages (Crates) Vendoring</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.21270e76.css" as="style"><link rel="preload" href="/assets/js/app.b971afb6.js" as="script"><link rel="preload" href="/assets/js/2.be096c87.js" as="script"><link rel="preload" href="/assets/js/25.44331c46.js" as="script"><link rel="prefetch" href="/assets/js/10.0ed35cd4.js"><link rel="prefetch" href="/assets/js/11.d64b9760.js"><link rel="prefetch" href="/assets/js/12.1934d659.js"><link rel="prefetch" href="/assets/js/13.0c9c53cb.js"><link rel="prefetch" href="/assets/js/14.315ba197.js"><link rel="prefetch" href="/assets/js/15.b879b56a.js"><link rel="prefetch" href="/assets/js/16.38dd3398.js"><link rel="prefetch" href="/assets/js/17.d593bd45.js"><link rel="prefetch" href="/assets/js/18.c08d6060.js"><link rel="prefetch" href="/assets/js/19.49b7ed52.js"><link rel="prefetch" href="/assets/js/20.45af4597.js"><link rel="prefetch" href="/assets/js/21.e4da91d8.js"><link rel="prefetch" href="/assets/js/22.3d78d106.js"><link rel="prefetch" href="/assets/js/23.6174fd9c.js"><link rel="prefetch" href="/assets/js/24.dd68e37a.js"><link rel="prefetch" href="/assets/js/3.895526de.js"><link rel="prefetch" href="/assets/js/4.bdf2f8cb.js"><link rel="prefetch" href="/assets/js/5.44769256.js"><link rel="prefetch" href="/assets/js/6.820bf6f6.js"><link rel="prefetch" href="/assets/js/7.10da7632.js"><link rel="prefetch" href="/assets/js/8.550bde35.js"><link rel="prefetch" href="/assets/js/9.388dded5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.21270e76.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dependencies-and-rust-packages-crates-vendoring"><a href="#dependencies-and-rust-packages-crates-vendoring" class="header-anchor">#</a> Dependencies and Rust Packages (Crates) Vendoring</h1> <p>In order to ease auditing, ensure product stability, as well as reduce the
possibility of the <a href="https://en.wikipedia.org/wiki/Supply_chain_attack" target="_blank" rel="noopener noreferrer">supply chain
attack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, we vendored all TEE
dependencies here.  During the build process, the trusted components will only
consumes packages from this designated repository and will not download any code
from external sources such as <a href="https://crates.io" target="_blank" rel="noopener noreferrer">crates.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="to-add-a-new-vendored-dependency"><a href="#to-add-a-new-vendored-dependency" class="header-anchor">#</a> To Add A New Vendored Dependency</h2> <p>If a crate is not available in the vendor directory, it can to be added with
the following steps:</p> <ol><li>Add the crates you need in the corresponding Cargo.toml (e.g.
<a href="https://github.com/mesalock-linux/crates-sgx/blob/master/Cargo.toml" target="_blank" rel="noopener noreferrer">crates-sgx/Cargo.toml<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)
and update the crate list in the README.txt (e.g.
<a href="https://github.com/mesalock-linux/crates-sgx/blob/master/README.txt" target="_blank" rel="noopener noreferrer">crates-sgx/README.txt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</li> <li>Run <code>cargo build</code> and ensure that it passes.</li> <li>Run <code>cargo vendor</code> and update the config file (e.g. crates-sgx/config).
You may also utilize
<a href="https://github.com/mesalock-linux/crates-sgx/blob/master/Makefile" target="_blank" rel="noopener noreferrer">crates-sgx/Makefile<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
for automation.</li> <li><code>git add/commit</code> the changes of
Cargo.toml/Cargo.lock/config/README.txt/vendor and submit a pull request.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b971afb6.js" defer></script><script src="/assets/js/2.be096c87.js" defer></script><script src="/assets/js/25.44331c46.js" defer></script>
  </body>
</html>
